import{Q as E,W as N,_ as g,X as B,y as I,M as R,B as S,J as L,af as F,N as U,z as Y,D as k,ag as C,F as $,H as q,G as z,A as G,I as T,ah as H,ai as K,i as w,m as j,aj as J,ak as Q,g as p,e as D,al as W,am as X,an as Z,w as V,a4 as ee,ao as se,aa as re,a as te,ap as ae,u as ne,a6 as ie,aq as fe,ar as ue,as as ce,at as oe,S as de,au as le}from"./-dx-P5S4.js";class _e{anchor;#s=new Map;#r=new Map;#e=new Map;#t=!0;constructor(e,t=!0){this.anchor=e,this.#t=t}#a=()=>{var e=E;if(this.#s.has(e)){var t=this.#s.get(e),r=this.#r.get(t);if(r)N(r);else{var a=this.#e.get(t);a&&(this.#r.set(t,a.effect),this.#e.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[n,f]of this.#s){if(this.#s.delete(n),n===e)break;const i=this.#e.get(f);i&&(g(i.effect),this.#e.delete(f))}for(const[n,f]of this.#r){if(n===t)continue;const i=()=>{if(Array.from(this.#s.values()).includes(n)){var o=document.createDocumentFragment();F(f,o),o.append(I()),this.#e.set(n,{effect:f,fragment:o})}else g(f);this.#r.delete(n)};this.#t||!r?B(f,i,!1):i()}}};#n=e=>{this.#s.delete(e);const t=Array.from(this.#s.values());for(const[r,a]of this.#e)t.includes(r)||(g(a.effect),this.#e.delete(r))};ensure(e,t){var r=E,a=U();if(t&&!this.#r.has(e)&&!this.#e.has(e))if(a){var n=document.createDocumentFragment(),f=I();n.append(f),this.#e.set(e,{effect:R(()=>t(f)),fragment:n})}else this.#r.set(e,R(()=>t(this.anchor)));if(this.#s.set(r,e),a){for(const[i,u]of this.#r)i===e?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[i,u]of this.#e)i===e?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#a),r.ondiscard(this.#n)}else S&&(this.anchor=L),this.#a()}}function pe(s,e,t=!1){S&&k();var r=new _e(s),a=t?C:0;function n(f,i){if(S){const o=$(s)===q;if(f===o){var u=z();G(u),r.anchor=u,T(!1),r.ensure(f,i),T(!0);return}}r.ensure(f,i)}Y(()=>{var f=!1;e((i,u=!0)=>{f=!0,n(u,i)}),f||n(!1,null)},a)}let b=!1,P=Symbol();function me(s,e,t){const r=t[e]??={store:null,source:j(void 0),unsubscribe:w};if(r.store!==s&&!(P in t))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=w;else{var a=!0;r.unsubscribe=J(s,n=>{a?r.source.v=n:D(r.source,n)}),a=!1}return s&&P in t?Q(s):p(r.source)}function ge(){const s={};function e(){H(()=>{for(var t in s)s[t].unsubscribe();K(s,P,{enumerable:!1,value:!0})})}return[s,e]}function he(s){var e=b;try{return b=!1,[s(),b]}finally{b=e}}const ve={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Se(s,e,t){return new Proxy({props:s,exclude:e},ve)}function Pe(s,e,t,r){var a=!ie||(t&fe)!==0,n=(t&ae)!==0,f=(t&ce)!==0,i=r,u=!0,o=()=>(u&&(u=!1,i=f?ne(r):r),i),l;if(n){var O=de in s||le in s;l=W(s,e)?.set??(O&&e in s?c=>s[e]=c:void 0)}var _,y=!1;n?[_,y]=he(()=>s[e]):_=s[e],_===void 0&&r!==void 0&&(_=o(),l&&(a&&X(),l(_)));var d;if(a?d=()=>{var c=s[e];return c===void 0?o():(u=!0,c)}:d=()=>{var c=s[e];return c!==void 0&&(i=void 0),c===void 0?i:c},a&&(t&Z)===0)return d;if(l){var x=s.$$legacy;return(function(c,v){return arguments.length>0?((!a||!v||x||y)&&l(v?d():c),c):d()})}var m=!1,h=((t&ue)!==0?re:te)(()=>(m=!1,d()));n&&p(h);var M=ee;return(function(c,v){if(arguments.length>0){const A=v?p(h):a&&n?V(c):c;return D(h,A),m=!0,i!==void 0&&(i=A),c}return oe&&m||(M.f&se)!==0?h.v:p(h)})}export{_e as B,ge as a,pe as i,Pe as p,Se as r,me as s};
