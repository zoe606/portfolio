import{j as y,Z as N,a1 as g,_ as L,D as A,Q as I,o as S,N as B,af as U,R as Y,E as F,I as k,ag as C,J as K,K as $,L as j,G as q,M as T,ah as G,ai as Z,x as D,m as z,aj as H,h as O,ak as J,g as p,al as Q,am as V,an as W,B as X,a7 as ee,ao as se,ad as re,a as te,ap as ae,u as ne,a9 as ie,aq as fe,ar as ue,as as ce,at as oe,S as de,au as le}from"./C0CEKB7a.js";class _e{anchor;#s=new Map;#r=new Map;#e=new Map;#t=!0;constructor(e,t=!0){this.anchor=e,this.#t=t}#a=()=>{var e=y;if(this.#s.has(e)){var t=this.#s.get(e),r=this.#r.get(t);if(r)N(r);else{var a=this.#e.get(t);a&&(this.#r.set(t,a.effect),this.#e.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[n,f]of this.#s){if(this.#s.delete(n),n===e)break;const i=this.#e.get(f);i&&(g(i.effect),this.#e.delete(f))}for(const[n,f]of this.#r){if(n===t)continue;const i=()=>{if(Array.from(this.#s.values()).includes(n)){var o=document.createDocumentFragment();U(f,o),o.append(A()),this.#e.set(n,{effect:f,fragment:o})}else g(f);this.#r.delete(n)};this.#t||!r?L(f,i,!1):i()}}};#n=e=>{this.#s.delete(e);const t=Array.from(this.#s.values());for(const[r,a]of this.#e)t.includes(r)||(g(a.effect),this.#e.delete(r))};ensure(e,t){var r=y,a=Y();if(t&&!this.#r.has(e)&&!this.#e.has(e))if(a){var n=document.createDocumentFragment(),f=A();n.append(f),this.#e.set(e,{effect:I(()=>t(f)),fragment:n})}else this.#r.set(e,I(()=>t(this.anchor)));if(this.#s.set(r,e),a){for(const[i,u]of this.#r)i===e?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[i,u]of this.#e)i===e?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#a),r.ondiscard(this.#n)}else S&&(this.anchor=B),this.#a()}}function pe(s,e,t=!1){S&&k();var r=new _e(s),a=t?C:0;function n(f,i){if(S){const o=K(s)===$;if(f===o){var u=j();q(u),r.anchor=u,T(!1),r.ensure(f,i),T(!0);return}}r.ensure(f,i)}F(()=>{var f=!1;e((i,u=!0)=>{f=!0,n(u,i)}),f||n(!1,null)},a)}let b=!1,P=Symbol();function me(s,e,t){const r=t[e]??={store:null,source:z(void 0),unsubscribe:D};if(r.store!==s&&!(P in t))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=D;else{var a=!0;r.unsubscribe=H(s,n=>{a?r.source.v=n:O(r.source,n)}),a=!1}return s&&P in t?J(s):p(r.source)}function ge(){const s={};function e(){G(()=>{for(var t in s)s[t].unsubscribe();Z(s,P,{enumerable:!1,value:!0})})}return[s,e]}function he(s){var e=b;try{return b=!1,[s(),b]}finally{b=e}}const ve={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Se(s,e,t){return new Proxy({props:s,exclude:e},ve)}function Pe(s,e,t,r){var a=!ie||(t&fe)!==0,n=(t&ae)!==0,f=(t&ce)!==0,i=r,u=!0,o=()=>(u&&(u=!1,i=f?ne(r):r),i),l;if(n){var w=de in s||le in s;l=Q(s,e)?.set??(w&&e in s?c=>s[e]=c:void 0)}var _,E=!1;n?[_,E]=he(()=>s[e]):_=s[e],_===void 0&&r!==void 0&&(_=o(),l&&(a&&V(),l(_)));var d;if(a?d=()=>{var c=s[e];return c===void 0?o():(u=!0,c)}:d=()=>{var c=s[e];return c!==void 0&&(i=void 0),c===void 0?i:c},a&&(t&W)===0)return d;if(l){var x=s.$$legacy;return(function(c,v){return arguments.length>0?((!a||!v||x||E)&&l(v?d():c),c):d()})}var m=!1,h=((t&ue)!==0?re:te)(()=>(m=!1,d()));n&&p(h);var M=ee;return(function(c,v){if(arguments.length>0){const R=v?p(h):a&&n?X(c):c;return O(h,R),m=!0,i!==void 0&&(i=R),c}return oe&&m||(M.f&se)!==0?h.v:p(h)})}export{_e as B,me as a,pe as i,Pe as p,Se as r,ge as s};
