import{_ as G}from"../chunks/PPVm8Dsz.js";import"../chunks/DsnmJJEf.js";import{i as ne}from"../chunks/DgVnf6MK.js";import{p as le,o as ve,E as me,f as u,b as F,d as o,e as de,c as T,q as ce,h as i,n as W,v as z,r as n,g as a,m as j,t as C,s as e,F as fe,i as H}from"../chunks/DHw3sN_x.js";import{i as N}from"../chunks/DPHbjRWq.js";import{R as pe,h as q,e as _e}from"../chunks/CFrM1-nq.js";import{b as ue}from"../chunks/CT9lADec.js";import{b as ge}from"../chunks/DR2aB-_L.js";import{B as J}from"../chunks/C1fywUt9.js";import"../chunks/1gxerQvT.js";import{C as be}from"../chunks/CBaf4wxJ.js";import{T as he}from"../chunks/BoeOFRb7.js";var we=u('<div class="resume-error svelte-1mijfb4"><p> </p></div>'),Pe=u('<div class="page-wrapper svelte-1mijfb4"><canvas class="svelte-1mijfb4"></canvas></div>'),$e=u('<div class="resume-loading svelte-1mijfb4"><p> </p></div>'),xe=u('<div class="resume-canvas svelte-1mijfb4"><!> <!></div>'),ye=u('<div class="resume-actions svelte-1mijfb4"><a download="" title="Download resume" class="svelte-1mijfb4"><!></a> <a target="_blank" rel="noreferrer" title="Open in new tab" class="svelte-1mijfb4"><!></a></div> <div class="resume-viewer svelte-1mijfb4"><!></div>',1),je=u('<div class="resume-empty svelte-1mijfb4"><p>No resume available at the moment.</p></div>'),ke=u("<!> <!>",1);function qe(K,Q){le(Q,!1);const{item:X,title:B,description:Y}=pe,h=`${ge}${X}`;let O=j(null),g=j([]),w=j(!1),k=j(0),P=j(null),p=0;const Z=()=>{e(g,[]),e(k,0),e(w,!1),e(P,null)},ee=async(D,$)=>{try{const[{getDocument:_,GlobalWorkerOptions:S},E]=await Promise.all([G(()=>import("../chunks/UA8D4yGl.js"),[],import.meta.url),G(()=>import("../chunks/BwazUmiR.js"),[],import.meta.url)]),M=E.default??E;S.workerSrc=M;const t=_({url:D,withCredentials:!1}),l=await t.promise;if($!==p){t.destroy();return}e(g,Array.from({length:l.numPages},(c,v)=>v+1)),await fe();for(const c of a(g)){if($!==p)break;const v=await l.getPage(c),x=v.getViewport({scale:1.25}),f=a(O)?.querySelector(`canvas[data-page="${c}"]`);if(!f)continue;const R=f.getContext("2d");R&&(f.height=x.height,f.width=x.width,e(k,c),await v.render({canvasContext:R,viewport:x}).promise)}$===p&&(e(w,!1),e(k,a(g).length)),typeof l.cleanup=="function"&&await l.cleanup(),typeof t.destroy=="function"&&t.destroy()}catch(_){$===p&&(e(P,_ instanceof Error?_.message:"Unable to preview PDF. Please try downloading instead."),e(w,!1))}},te=async()=>{if(!h){e(P,"No resume available at the moment.");return}Z(),e(w,!0),p+=1,await ee(h,p)};ve(()=>{te()}),me(()=>{p+=1}),ne();var I=ke(),L=F(I);he(L,{get title(){return B},get description(){return Y},path:"/resume"});var ae=T(L,2);be(ae,{get title(){return B},children:(D,$)=>{var _=ce(),S=F(_);{var E=t=>{var l=ye(),c=F(l),v=i(c),x=i(v);J(x,{class:"text-1em",children:(r,s)=>{W();var m=z("Download PDF");o(r,m)},$$slots:{default:!0}}),n(v);var f=T(v,2),R=i(f);J(R,{variant:"outline",class:"text-1em",children:(r,s)=>{W();var m=z("Open in new tab");o(r,m)},$$slots:{default:!0}}),n(f),n(c);var U=T(c,2),re=i(U);{var se=r=>{var s=we(),m=i(s),V=i(m,!0);n(m),n(s),C(()=>H(V,a(P))),o(r,s)},oe=r=>{var s=xe(),m=i(s);_e(m,1,()=>a(g),d=>d,(d,y)=>{var b=Pe(),A=i(b);n(b),C(()=>q(A,"data-page",a(y))),o(d,b)});var V=T(m,2);{var ie=d=>{var y=$e(),b=i(y),A=i(b);n(b),n(y),C(()=>H(A,`Rendering page ${a(k)+1} of ${(a(g).length||"...")??""}`)),o(d,y)};N(V,d=>{a(w)&&d(ie)})}n(s),ue(s,d=>e(O,d),()=>a(O)),o(r,s)};N(re,r=>{a(P)?r(se):r(oe,!1)})}n(U),C(()=>{q(v,"href",h),q(f,"href",h)}),o(t,l)},M=t=>{var l=je();o(t,l)};N(S,t=>{h?t(E):t(M,!1)})}o(D,_)},$$slots:{default:!0}}),o(K,I),de()}export{qe as component};
